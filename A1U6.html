<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>U4-A06</title>
    <style>
        table {
            border-collapse: collapse;
            display: none;
        }
        th, td {
            text-align: center;
            border: 1px solid #000;
            padding: 5px;
        }
    </style>
</head>
<body>
    <p>Introduzca el nombre del alumno: <input type="text" id="nombre"></p>
    <p>Introduzca la nota del modulo 1: <input type="text" id="modulo1"></p>
    <p>Introduzca la nota del modulo 2: <input type="text" id="modulo2"></p>
    <p>Introduzca la nota del modulo 3: <input type="text" id="modulo3"></p>
    
    <button id="enviar">Enviar</button>
    <p id="error"></p>
    
    <table id="tabla">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Primera nota</th>
                <th>Segunda nota</th>
                <th>Tercera nota</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <script>

        document.getElementById('enviar').addEventListener('click', function() {
            crearArrayAlumno();
        });

        function crearArrayAlumno() {
            var nombre = document.getElementById('nombre').value;
            var modulo1 = parseInt(document.getElementById('modulo1').value);
            var modulo2 = parseInt(document.getElementById('modulo2').value);
            var modulo3 = parseInt(document.getElementById('modulo3').value);

            if (error(modulo1) && error(modulo2) && error(modulo3)) {
                var alumno = [nombre, modulo1, modulo2, modulo3];
                agregarFilaTabla(alumno);
                document.getElementById('tabla').style.display = 'block';
                document.getElementById('error').innerHTML = 'Alumno introducido correctamente';
            }

            document.getElementById('nombre').value = '';
            document.getElementById('modulo1').value = '';
            document.getElementById('modulo2').value = '';
            document.getElementById('modulo3').value = '';
        }

        function error(modulo) {
            if (modulo < 0 || modulo > 10) {
                document.getElementById('error').innerHTML = 'Las notas deben ser entre 0 y 10 :D';
                return false;
            } else {
                document.getElementById('error').innerHTML = '';
                return true;
            }
        }

        function agregarFilaTabla(alumno) {
            var tabla = document.querySelector('table tbody');
            var  fila = document.createElement('tr');
            for (var i = 0; i < alumno.length; i++) {
                var celda = document.createElement('td');
                celda.textContent = alumno[i];
                fila.appendChild(celda);
            }
            tabla.appendChild(fila);
        }
    </script>
</body>
</html>
